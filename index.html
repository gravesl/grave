<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>arcangels</title>

<!-- Favicon -->
<link rel="icon" type="image/png" href="97dec4d0-9d42-440f-b6e6-7a01ee430d83.png">

<!-- Font -->
<link href="https://fonts.googleapis.com/css2?family=UnifrakturMaguntia&display=swap" rel="stylesheet">

<style>
body {
    margin: 0;
    padding-top: 100px;
    background: black;
    color: red;
    text-shadow: 1px 1px 1px black;
    font-family: 'UnifrakturMaguntia', cursive;
    text-align: center;
    overflow-x: hidden;
    user-select: none;
}

/* MUSIC BAR */
.music-bar {
    position: fixed;
    top: 20px;
    left: 20px;
    padding: 10px;
    text-align: left;
}

.music-title {
    font-size: 26px;
    text-shadow: 0 0 8px red;
    margin-bottom: 10px;
}

.track {
    cursor: pointer;
    opacity: 0.4;
    transition: 0.2s ease;
}

.track:hover {
    opacity: 1;
    transform: translateX(2px);
}

.track.active {
    opacity: 1;
    text-shadow: 0 0 8px red;
}

/* PLAYER CONTROLS */
.player-controls {
    position: fixed;
    left: 20px;
    bottom: 60px;
    display: flex;
    gap: 10px;
    z-index: 999;
}

.player-controls button {
    background: black;
    border: 1px solid red;
    padding: 8px 12px;
    color: red;
    cursor: pointer;
    font-size: 16px;
    transition: 0.2s;
}

.player-controls button:hover {
    background: red;
    color: black;
}

/* VISUALIZER */
#visualizer {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 110px;
    z-index: 998;
}

/* SKULL */
#music-skull {
    margin-top: 40px;
    width: 120px;
    cursor: pointer;
}

/* PROFILE NAMES */
.names {
    margin-top: 80px;
    display: flex;
    justify-content: center;
    gap: 22px;
    flex-wrap: wrap;
    font-size: 23px;
    cursor: pointer;
}

.names span {
    transition: opacity 0.3s ease;
}

.names span:hover {
    opacity: 1;
    text-shadow: 0 0 10px red;
}

/* PROFILES */
.profile {
    display: none;
    margin-top: 90px;
}

.profile img {
    width: 200px;
    border: 1px solid red;
}

.profile h2 {
    margin-top: 10px;
}
</style>
</head>

<body>

<!-- MUSIC SIDE BAR -->
<div class="music-bar">
    <div class="music-title">‚úü</div>

    <div class="track active" data-src="chainsaw_murda (1).mp3">chainsaw</div>
    <div class="track" data-src="grezy.mp3">grezy</div>
    <div class="track" data-src="ty-i-ia.mp3">ty-i-ia</div>
    <div class="track" data-src="saveme.mp3">save me</div>
    <div class="track" data-src="bones_hdmi.mp3">bones hdmi</div>
</div>

<!-- PLAYER -->
<audio id="audio-player"></audio>

<!-- PLAYER CONTROLS -->
<div class="player-controls">
    <button id="prev-btn">‚ü®</button>
    <button id="play-btn">‚è∏</button>
    <button id="next-btn">‚ü©</button>
    <button id="shuffle-btn">üîÄ</button>
</div>

<!-- VISUALIZER -->
<canvas id="visualizer"></canvas>

<!-- SKULL -->
<img id="music-skull" src="https://i.pinimg.com/736x/45/74/22/4574220bdb8ec123f1443478b98b733c.jpg" alt="skull">

<!-- PROFILE NAMES -->
<div class="names">
    <span onclick="showProfile('grave')">grave</span>
    <span onclick="showProfile('swat')">swat</span>
    <span onclick="showProfile('kodachi')">kodachi</span>
    <span onclick="showProfile('purge')">purge</span>
    <span onclick="showProfile('envy')">envy</span>
</div>

<!-- PROFILES -->
<div id="grave" class="profile">
    <img src="https://i.pinimg.com/1200x/33/25/98/3325981bbdf30960fff76fb75656364d.jpg">
    <h2>grave</h2>
    <p>Never died, just archived.</p>
</div>

<div id="swat" class="profile">
    <img src="https://i.pinimg.com/1200x/bb/b7/6a/bbb76a3bf4f818b4fd611ba719ed2124.jpg">
    <h2>swat</h2>
    <p>you notice he's already watching.</p>
</div>

<div id="kodachi" class="profile">
    <img src="https://i.pinimg.com/736x/69/57/56/69575608cb752e3cba004b7d103cff09.jpg">
    <h2>kodachi</h2>
    <p>silent but sharp.</p>
</div>

<div id="purge" class="profile">
    <img src="https://i.pinimg.com/736x/50/94/aa/5094aa17b84bb1dee6245bf0de2ac4ac.jpg">
    <h2>purge</h2>
    <p>the cleansing flame.</p>
</div>

<div id="envy" class="profile">
    <img src="https://i.pinimg.com/736x/33/70/64/337064f7b6f6b5f638df23a94b1c1cf9.jpg">
    <h2>envy</h2>
    <p>wants everything.</p>
</div>

<script>
/* PROFILE SWITCH */
function showProfile(id) {
    document.querySelectorAll('.profile').forEach(p => p.style.display = 'none');
    document.getElementById(id).style.display = 'block';
}

/* MUSIC LOGIC */
const player = document.getElementById("audio-player");
const tracks = Array.from(document.querySelectorAll(".track"));
let currentIndex = 0;
let isPlaying = true;
let shuffle = false;

/* Fade In */
function fadeIn() {
    let v = 0;
    player.volume = 0;
    let fade = setInterval(() => {
        if (v < 1) { v += 0.02; player.volume = v; }
        else clearInterval(fade);
    }, 60);
}

/* Fade Out */
function fadeOut(callback) {
    let v = player.volume;
    let fade = setInterval(() => {
        if (v > 0) { v -= 0.02; player.volume = v; }
        else { clearInterval(fade); callback(); }
    }, 60);
}

/* Play Track */
function playTrack(i) {
    currentIndex = i;
    tracks.forEach(t => t.classList.remove("active"));
    tracks[i].classList.add("active");

    player.src = tracks[i].dataset.src;
    player.play();
    fadeIn();
    isPlaying = true;
    playBtn.textContent = "‚è∏";
}

/* Next / Prev */
function nextTrack() {
    fadeOut(() => {
        currentIndex = shuffle ? Math.floor(Math.random() * tracks.length)
                               : (currentIndex + 1) % tracks.length;
        playTrack(currentIndex);
    });
}

function prevTrack() {
    fadeOut(() => {
        currentIndex = shuffle ? Math.floor(Math.random() * tracks.length)
                               : (currentIndex - 1 + tracks.length) % tracks.length;
        playTrack(currentIndex);
    });
}

/* Click Track */
tracks.forEach((t,i) => {
    t.addEventListener("click", () => fadeOut(() => playTrack(i)));
});

/* Controls */
const playBtn = document.getElementById("play-btn");
const nextBtn = document.getElementById("next-btn");
const prevBtn = document.getElementById("prev-btn");
const shuffleBtn = document.getElementById("shuffle-btn");

playBtn.onclick = () => {
    if (isPlaying) { player.pause(); playBtn.textContent="‚ñ∂"; }
    else { player.play(); playBtn.textContent="‚è∏"; }
    isPlaying = !isPlaying;
};

nextBtn.onclick = nextTrack;
prevBtn.onclick = prevTrack;

shuffleBtn.onclick = () => {
    shuffle = !shuffle;
    shuffleBtn.style.color = shuffle ? "white" : "red";
};

player.addEventListener("ended", nextTrack);

/* VISUALIZER */
const canvas = document.getElementById("visualizer");
const ctx = canvas.getContext("2d");
canvas.width = innerWidth;
canvas.height = 110;

const audioCtx = new AudioContext();
const srcNode = audioCtx.createMediaElementSource(player);
const analyser = audioCtx.createAnalyser();

srcNode.connect(analyser);
analyser.connect(audioCtx.destination);
analyser.fftSize = 256;

let bufferLength = analyser.frequencyBinCount;
let dataArray = new Uint8Array(bufferLength);

function drawViz() {
    requestAnimationFrame(drawViz);
    analyser.getByteFrequencyData(dataArray);

    ctx.fillStyle = "black";
    ctx.fillRect(0,0,canvas.width,canvas.height);

    let barWidth = (canvas.width / bufferLength) * 2;
    let x = 0;

    for (let i=0;i<bufferLength;i++){
        let h = dataArray[i] * 0.6;
        ctx.fillStyle = `rgb(${h+40},0,0)`;
        ctx.fillRect(x, canvas.height-h, barWidth, h);
        x += barWidth + 1;
    }
}

drawViz();
playTrack(0);
</script>

</body>
</html>
